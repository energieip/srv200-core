{
    "swagger": "2.0",
    "info": {
        "description": "GTB server API",
        "version": "1.0",
        "title": "GTB Swagger",
        "termsOfService": "http://swagger.io/terms/",
        "contact": {
            "email": "developer@energie-ip.com"
        },
        "license": {
            "name": "Apache 2.0",
            "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
        }
    },
    "tags":[
        {
            "name": "setup",
            "description": "GTB configuration: drivers, switch, group initial setup config"
        },
        {
            "name": "config",
            "description": "GTB configuration: drivers, switch, group runtime config"
        },
        {
            "name": "project",
            "description": "GTB configuration: project config"
        },
        {
            "name": "event",
            "description": "GTB events"
        },
        {
            "name": "command",
            "description": "Drivers and groups control"
        },
        {
            "name": "status",
            "description": "Drivers and groups status"
        },
        {
            "name": "dump",
            "description": "Drivers and groups dump"
        }
    ],
    "schemes":[
        "http"
    ],
    "paths":{
        "/setup/sensor/{mac}":{
            "get":{
                "tags":[
                    "setup"
                ],
                "summary": "Return Sensor Setup configuration",
                "description": "Return Sensor Setup configuration",
                "operationId": "getSensorSetup",
                "produces":[
                    "application/json"
                ],
                "parameters":[
                    {
                        "name": "mac",
                        "in": "path",
                        "description": "Sensor Mac address",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "sucessful operation",
                        "schema":{
                            "$ref": "#/definitions/SensorSetup"
                        }
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                    }
                }
            },
            "delete":{
                "tags":[
                    "setup"
                ],
                "summary": "Remove Sensor Setup configuration",
                "description": "Remove Sensor Setup configuration. It means the driver Sensor will be blacklisted",
                "operationId": "removeSensorSetup",
                "produces":[
                    "application/json"
                ],
                "parameters":[
                    {
                        "name": "mac",
                        "in": "path",
                        "description": "Sensor Mac address",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "sucessful operation"
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                    }
                }
            }
        },        
        "/setup/sensor":{
            "post":{
                "tags":[
                    "setup"
                ],
                "summary": " Sensor Setup configuration",
                "description": "Sensor Setup configuration",
                "operationId": "setSensorSetup",
                "produces":[
                    "application/json"
                ],
                "parameters":[
                    {
                        "name": "sensor",
                        "in": "body",
                        "description": "Sensor config",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/SensorSetup"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "sucessful operation",
                        "schema":{
                            "$ref": "#/definitions/SensorSetup"
                        }
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                    }
                }
            }
        },
        "/setup/led/{mac}":{
            "get":{
                "tags":[
                    "setup"
                ],
                "summary": "Return LED Setup configuration",
                "description": "Return LED Setup configuration",
                "operationId": "getLedSetup",
                "produces":[
                    "application/json"
                ],
                "parameters":[
                    {
                        "name": "mac",
                        "in": "path",
                        "description": "Led Mac address",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "sucessful operation",
                        "schema":{
                            "$ref": "#/definitions/LedSetup"
                        }
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                    }
                }
            },
            "delete":{
                "tags":[
                    "setup"
                ],
                "summary": "Remove LED Setup configuration",
                "description": "Remove LED Setup configuration. It means the driver LED will be blacklisted",
                "operationId": "removeLedSetup",
                "produces":[
                    "application/json"
                ],
                "parameters":[
                    {
                        "name": "mac",
                        "in": "path",
                        "description": "Led Mac address",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "sucessful operation"
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                    }
                }
            }
        },        
        "/setup/led":{
            "post":{
                "tags":[
                    "setup"
                ],
                "summary": "LED Setup configuration",
                "description": "LED Setup configuration",
                "operationId": "setLedSetup",
                "produces":[
                    "application/json"
                ],
                "parameters":[
                    {
                        "name": "led",
                        "in": "body",
                        "description": "led config",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/LedSetup"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "sucessful operation",
                        "schema":{
                            "$ref": "#/definitions/LedSetup"
                        }
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                    }
                }
            }
        },
        "/setup/group/{groupID}":{
            "get":{
                "tags":[
                    "setup"
                ],
                "summary": "Return Group Setup configuration",
                "description": "Return Group Setup configuration",
                "operationId": "getGroupSetup",
                "produces":[
                    "application/json"
                ],
                "parameters":[
                    {
                        "name": "groupID",
                        "in": "path",
                        "description": "Group Number",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "sucessful operation",
                        "schema":{
                            "$ref": "#/definitions/GroupSetup"
                        }
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                    }
                }
            },
            "delete":{
                "tags":[
                    "setup"
                ],
                "summary": "Remove Group Setup configuration",
                "description": "Remove Group Setup configuration",
                "operationId": "removeGroupSetup",
                "produces":[
                    "application/json"
                ],
                "parameters":[
                    {
                        "name": "groupID",
                        "in": "path",
                        "description": "Group Number",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "sucessful operation"
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                    }
                }
            }
        },
        "/setup/group":{
            "post":{
                "tags":[
                    "setup"
                ],
                "summary": "Group Setup configuration",
                "description": "Group Setup configuration",
                "operationId": "setGroupSetup",
                "produces":[
                    "application/json"
                ],
                "parameters":[
                    {
                        "name": "group",
                        "in": "body",
                        "description": "Group config",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/GroupSetup"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "sucessful operation",
                        "schema":{
                            "$ref": "#/definitions/GroupSetup"
                        }
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                    }
                }
            }
        },
        "/setup/switch/{mac}":{
            "get":{
                "tags":[
                    "setup"
                ],
                "summary": "Return Switch Setup configuration",
                "description": "Return Switch Setup configuration",
                "operationId": "getSwitchSetup",
                "produces":[
                    "application/json"
                ],
                "parameters":[
                    {
                        "name": "mac",
                        "in": "path",
                        "description": "Switch Mac address",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "sucessful operation",
                        "schema":{
                            "$ref": "#/definitions/SwitchSetup"
                        }
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                    }
                }
            },
            "delete":{
                "tags":[
                    "setup"
                ],
                "summary": "Remove Switch Setup configuration",
                "description": "Remove Switch Setup configuration It means the Switch will be blacklisted",
                "operationId": "removeSwitchSetup",
                "produces":[
                    "application/json"
                ],
                "parameters":[
                    {
                        "name": "mac",
                        "in": "path",
                        "description": "Switch mac address",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "sucessful operation"
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                    }
                }
            }
        },
        "/setup/switch":{
            "post":{
                "tags":[
                    "setup"
                ],
                "summary": "Switch Setup configuration",
                "description": "Switch Setup configuration",
                "operationId": "setSwitchSetup",
                "produces":[
                    "application/json"
                ],
                "parameters":[
                    {
                        "name": "switch",
                        "in": "body",
                        "description": "Switch config",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/SwitchSetup"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "sucessful operation",
                        "schema":{
                            "$ref": "#/definitions/SwitchSetup"
                        }
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                    }
                }
            }
        },       
        "/config/sensor":{
            "post":{
                "tags":[
                    "config"
                ],
                "summary": "Change Sensor runtime configuration",
                "description": "Change Sensor runtime configuration",
                "operationId": "setSensorConfig",
                "produces":[
                    "application/json"
                ],
                "parameters":[
                    {
                        "name": "sensor",
                        "in": "body",
                        "description": "Sensor runtime config",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/SensorConfig"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "sucessful operation, Configuration read from database"
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                    }
                }
            }
        },
        "/config/led":{
            "post":{
                "tags":[
                    "config"
                ],
                "summary": "Change LED runtime configuration",
                "description": "Change LED runtime configuration",
                "operationId": "setLedConfig",
                "produces":[
                    "application/json"
                ],
                "parameters":[
                    {
                        "name": "led",
                        "in": "body",
                        "description": "LED runtime config",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/LedConfig"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "sucessful operation, Configuration read from database"
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                    }
                }
            }
        },
        "/config/group":{
            "post":{
                "tags":[
                    "config"
                ],
                "summary": "Group runtime configuration",
                "description": "Group runtime configuration",
                "operationId": "setGroupConfig",
                "produces":[
                    "application/json"
                ],
                "parameters":[
                    {
                        "name": "group",
                        "in": "body",
                        "description": "Group config",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/GroupConfig"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "sucessful operation"
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                    }
                }
            }
        },
        "/config/switch":{
            "post":{
                "tags":[
                    "config"
                ],
                "summary": "Switch runtime configuration",
                "description": "Switch runtime configuration",
                "operationId": "setSwitchConfig",
                "produces":[
                    "application/json"
                ],
                "parameters":[
                    {
                        "name": "switch",
                        "in": "body",
                        "description": "Switch config",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/SwitchConfig"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "sucessful operation"
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                    }
                }
            }
        },
        "/configs":{
            "post":{
                "tags":[
                    "config"
                ],
                "summary": "Update runtime configuration",
                "description": "Update runtime configuration",
                "operationId": "setConfig",
                "produces":[
                    "application/json"
                ],
                "parameters":[
                    {
                        "name": "config",
                        "in": "body",
                        "description": "Switch config",
                        "required": false,
                        "schema": {
                            "$ref": "#/definitions/Config"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "sucessful operation"
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                    }
                }
            }
        },
        "/command/led":{
            "post":{
                "tags":[
                    "command"
                ],
                "summary": "Send LED command",
                "description": "Send LED command",
                "operationId": "sendLedCommand",
                "produces":[
                    "application/json"
                ],
                "parameters":[
                    {
                        "name": "led",
                        "in": "body",
                        "description": "LED Command",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/LedCommand"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "sucessful operation"
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                    }
                }
            }
        },
        "/command/group":{
            "post":{
                "tags":[
                    "command"
                ],
                "summary": "Send Group command",
                "description": "Send Group command",
                "operationId": "sendGroupCommand",
                "produces":[
                    "application/json"
                ],
                "parameters":[
                    {
                        "name": "group",
                        "in": "body",
                        "description": "Group command",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/GroupCommand"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "sucessful operation"
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                    }
                }
            }
        },
        "/commands":{
            "post":{
                "tags":[
                    "command"
                ],
                "summary": "Send command",
                "description": "Send command",
                "operationId": "setConfig",
                "produces":[
                    "application/json"
                ],
                "parameters":[
                    {
                        "name": "config",
                        "in": "body",
                        "description": "Command",
                        "required": false,
                        "schema": {
                            "$ref": "#/definitions/Command"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "sucessful operation"
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                    }
                }
            }
        },
        "/project/ifcInfo/{label}":{
            "get":{
                "tags":[
                    "project"
                ],
                "summary": "Return ifc information",
                "description": "Describe the ifc information",
                "operationId": "getIfcInfo",
                "produces":[
                    "application/json"
                ],
                "parameters":[
                    {
                        "name": "label",
                        "in": "path",
                        "description": "Ifc label value",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "sucessful operation",
                        "schema":{
                            "$ref": "#/definitions/IfcInfo"
                        }
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                    }
                }
            },
            "delete":{
                "tags":[
                    "project"
                ],
                "summary": "Remove Ifc Info description",
                "description": "Remove Ifc information",
                "operationId": "removeIfcInfo",
                "produces":[
                    "application/json"
                ],
                "parameters":[
                    {
                        "name": "label",
                        "in": "path",
                        "description": "Ifc label value",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "sucessful operation"
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                    }
                }
            }
        },
        "/project/ifcInfo":{
            "post":{
                "tags":[
                    "project"
                ],
                "summary": "Add/update Ifc information",
                "description": "Add/update Ifc information",
                "operationId": "setIfcInfo",
                "produces":[
                    "application/json"
                ],
                "parameters":[
                    {
                        "name": "ifcInfo",
                        "in": "body",
                        "description": "ifc detail description",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/IfcInfo"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "sucessful operation",
                        "schema":{
                            "$ref": "#/definitions/IfcInfo"
                        }
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                    }
                }
            }
        },
        "/project/model/{modelName}":{
            "get":{
                "tags":[
                    "project"
                ],
                "summary": "Return model information",
                "description": "Describe the model information",
                "operationId": "getModelInfo",
                "produces":[
                    "application/json"
                ],
                "parameters":[
                    {
                        "name": "modelName",
                        "in": "path",
                        "description": "Ifc modelName value",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "sucessful operation",
                        "schema":{
                            "$ref": "#/definitions/ModelInfo"
                        }
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                    }
                }
            },
            "delete":{
                "tags":[
                    "project"
                ],
                "summary": "Remove Model information",
                "description": "Remove Model information",
                "operationId": "removeModelInfo",
                "produces":[
                    "application/json"
                ],
                "parameters":[
                    {
                        "name": "modelName",
                        "in": "path",
                        "description": "Model name",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "sucessful operation"
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                    }
                }
            }
        },
        "/project/model":{
            "post":{
                "tags":[
                    "project"
                ],
                "summary": "Add/update model information",
                "description": "Add/update model information",
                "operationId": "setModelInfo",
                "produces":[
                    "application/json"
                ],
                "parameters":[
                    {
                        "name": "modelInfo",
                        "in": "body",
                        "description": "Model detail description",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/ModelInfo"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "sucessful operation",
                        "schema":{
                            "$ref": "#/definitions/ModelInfo"
                        }
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                    }
                }
            }
        },
        "/project":{
            "get":{
                "tags":[
                    "project"
                ],
                "summary": "Dump all ifc information",
                "description": "Dump all the ifc information",
                "operationId": "getIfc",
                "produces":[
                    "application/json"
                ],
                "parameters":[],
                "responses": {
                    "200": {
                        "description": "sucessful operation",
                        "schema":{
                            "type": "array",
                            "items":{
                                "$ref": "#/definitions/IfcInfo"
                            }
                        }
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                    }
                }
            }
        },
        "/events":{
            "get":{
                "tags":[
                    "event"
                ],
                "summary": "Websocket for Event Status",
                "description": "pop event",
                "operationId": "events",
                "produces":[
                    "application/json"
                ],
                "parameters":[],
                "responses": {
                    "101": {
                        "description": "sucessful operation",
                        "schema":{
                            "$ref": "#/definitions/Event"
                        }
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                      }
                }
            }
        },
        "/status/sensor/{mac}": {
            "get": {
                "tags": [
                    "status"
                ],
                "summary": "Return Sensor Status",
                "description": "Return the given sensor status",
                "operationId": "getSensorStatus",
                "produces":[
                    "application/json"
                ],
                "parameters":[{
                    "name": "mac",
                    "in": "path",
                    "description": "Sensor Mac address",
                    "required": true,
                    "type": "string"
                }],
                "responses": {
                    "200": {
                        "description": "sucessful operation",
                        "schema":{
                            "$ref": "#/definitions/SensorStatus"
                        }
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                      }
                }
            }
        },
        "/status/led/{mac}":{
            "get":{
                "tags":[
                    "status"
                ],
                "summary": "Return Led Status",
                "description": "Return the given LED status",
                "operationId": "getLedStatus",
                "produces":[
                    "application/json"
                ],
                "parameters":[{
                    "name": "mac",
                    "in": "path",
                    "description": "LED Mac address",
                    "required": true,
                    "type": "string"
                }],
                "responses": {
                    "200": {
                        "description": "successful operation",
                        "schema":{
                            "$ref": "#/definitions/LedStatus"
                        }
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                      }
                }
            }
        },
        "/status":{
            "get":{
                "tags":[
                    "status"
                ],
                "summary": "Return Complete Status",
                "description": "Dump the Complete status with filter",
                "operationId": "getStatus",
                "produces":[
                    "application/json"
                ],
                "parameters":[
                    {
                        "name": "isConfigured",
                        "in": "query",
                        "description": "Filter by isConfigured device",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "name": "groupID",
                        "in": "query",
                        "description": "Filter by groupID",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "name": "type",
                        "in": "query",
                        "description": "Filter by driver type",
                        "required": false,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successful operation",
                        "schema":{
                            "$ref": "#/definitions/Status"
                        }
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                      }
                }
            }
        },
        "/dump":{
            "get":{
                "tags":[
                    "dump"
                ],
                "summary": "Return Complete Dump",
                "description": "Dump the Complete dump with filter",
                "operationId": "getDump",
                "produces":[
                    "application/json"
                ],
                "parameters":[
                    {
                        "name": "withConfig",
                        "in": "query",
                        "description": "withConfig output. By default: false",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "name": "withIfc",
                        "in": "query",
                        "description": "withConfig output. By default: false",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "name": "withStatus",
                        "in": "query",
                        "description": "withStatus output. By default: false",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "name": "macs",
                        "in": "query",
                        "description": "Filter by mac address. By default: all",
                        "required": false,
                        "type": "array",
                        "items":{
                            "type": "string"
                        }
                    },
                    {
                        "name": "labels",
                        "in": "query",
                        "description": "Filter by IFC label. By default: all",
                        "required": false,
                        "type": "array",
                        "items":{
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successful operation",
                        "schema":{
                            "$ref": "#/definitions/Dump"
                        }
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                          "$ref": "#/definitions/Error"
                        }
                      }
                }
            }
        }
    },
    "definitions": {
        "Config":{
            "type": "object",
            "properties": {
                "groups": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/GroupConfig"
                    }
                },
                "leds": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/LedConfig"
                    }
                },
                "sensors": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/SensorConfig"
                    }
                },
                "switchs": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/SensorConfig"
                    }
                }
            }
        },
        "Command":{
            "type": "object",
            "properties": {
                "groups": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/GroupCommand"
                    }
                },
                "leds": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/LedCommand"
                    }
                }
            }
        },
        "SensorSetup":{
            "type": "object",
            "required": [
                "mac"
            ],
            "properties": {
                "mac": {
                    "type": "string",
                    "description": "Sensor mac address"
                },
                "group": {
                    "type": "integer",
                    "description": "Associate group"
                },
                "isBleEnabled": {
                    "type": "boolean",
                    "description": "bluetooth activation"
                },
                "brigthnessCorrectionFactor": {
                    "type": "integer",
                    "description": "Brightness correction factor"
                },
                "friendlyName": {
                    "type": "string",
                    "description": "Sensor FriendlyName"
                },
                "thresoldPresence": {
                    "type": "integer",
                    "description": "Thresold presence"
                },
                "temperatureOffset": {
                    "type": "integer",
                    "description": "Temperature offset correction"
                }
            }
        },
        "SensorConfig": {
            "type": "object",
            "required": [
                "mac"
            ],
            "properties": {
                "mac": {
                    "type": "string",
                    "description": "Sensor mac address"
                },
                "isConfigured": {
                    "type": "boolean",
                    "description": "Is the sensor configured"
                },
                "group": {
                    "type": "integer",
                    "description": "Associate group"
                },
                "isBleEnabled": {
                    "type": "boolean",
                    "description": "bluetooth activation"
                },
                "brigthnessCorrectionFactor": {
                    "type": "integer",
                    "description": "Brightness correction factor"
                },
                "friendlyName": {
                    "type": "string",
                    "description": "Sensor FriendlyName"
                },
                "thresoldPresence": {
                    "type": "integer",
                    "description": "Thresold presence"
                },
                "temperatureOffset": {
                    "type": "integer",
                    "description": "Temperature offset correction"
                }
            }
        },
        "LedSetup":{
            "type": "object",
            "required": [
                "mac",
                "iMax"
            ],
            "properties": {
                "mac": {
                    "type": "string",
                    "description": "Sensor mac address"
                },
                "group": {
                    "type": "integer",
                    "description": "Associate group"
                },
                "isBleEnabled": {
                    "type": "boolean",
                    "description": "bluetooth activation"
                },
                "iMax": {
                    "type": "integer",
                    "description": "iMax"
                },
                "auto": {
                    "type": "boolean",
                    "description": "Automatic mode"
                },
                "watchdog": {
                    "type": "integer",
                    "description": "watchdog in second"
                },
                "thresoldLow": {
                    "type": "integer",
                    "description": "Thresold low"
                },
                "thresoldHigh": {
                    "type": "integer",
                    "description": "Thresold high"
                },
                "friendlyName": {
                    "type": "string",
                    "description": "Sensor FriendlyName"
                }
            }
        },        
        "LedConfig":{
            "type": "object",
            "required": [
                "mac"
            ],
            "properties": {
                "mac": {
                    "type": "string",
                    "description": "Sensor mac address"
                },
                "group": {
                    "type": "integer",
                    "description": "Associate group"
                },
                "isBleEnabled": {
                    "type": "boolean",
                    "description": "bluetooth activation"
                },
                "isConfigured": {
                    "type": "boolean",
                    "description": "Reset the led configuration"
                },
                "auto": {
                    "type": "boolean",
                    "description": "Automatic mode"
                },
                "watchdog": {
                    "type": "integer",
                    "description": "watchdog in second"
                },
                "thresoldLow": {
                    "type": "integer",
                    "description": "Thresold low"
                },
                "thresoldHigh": {
                    "type": "integer",
                    "description": "Thresold high"
                },
                "friendlyName": {
                    "type": "string",
                    "description": "Sensor FriendlyName"
                }
            }
        },
        "LedCommand":{
            "type": "object",
            "required": [
                "mac"
            ],
            "properties": {
                "mac": {
                    "type": "string",
                    "description": "Sensor mac address"
                },
                "auto": {
                    "type": "boolean",
                    "description": "Automatic mode"
                },
                "setPoint": {
                    "type": "string",
                    "description": "Set point value in percentage"
                }
            }
        },
        "SwitchSetup":{
            "type": "object",
            "required": [
                "mac"
            ],
            "properties": {
                "mac": {
                    "type": "string",
                    "description": "Sensor mac address"
                },
                "cluster": {
                    "type": "integer",
                    "description": "Associate Cluster number"
                },
                "ip": {
                    "type": "string",
                    "description": "Switch IP address"
                },
                "friendlyName": {
                    "type": "string",
                    "description": "Sensor FriendlyName"
                }
            }
        },
        "SwitchConfig":{
            "type": "object",
            "required": [
                "mac"
            ],
            "properties": {
                "mac": {
                    "type": "string",
                    "description": "Sensor mac address"
                },
                "cluster": {
                    "type": "integer",
                    "description": "Associate Cluster number"
                },
                "ip": {
                    "type": "string",
                    "description": "Switch IP address"
                },
                "isConfigured": {
                    "type": "boolean",
                    "description": "Reset the led configuration"
                },
                "friendlyName": {
                    "type": "string",
                    "description": "Sensor FriendlyName"
                }
            }
        },
        "ModelInfo":{
            "type": "object",
            "required": [
                "name"
            ],
            "properties": {
                "name": {
                    "type": "string",
                    "description": "Driver Model name"
                },
                "vendor": {
                    "type": "string",
                    "description": "vendor name"
                },
                "deviceType": {
                    "type": "string",
                    "enum": [
                        "led",
                        "sensor"
                    ],
                    "default": "led",
                    "description": "device category LED|Sensor|etc."
                },
                "URL": {
                    "type": "string",
                    "description": "weblink to the technical description"
                }
            }
        },
        "IfcInfo":{
            "type": "object",
            "required": [
                "label"
            ],
            "properties": {
                "label": {
                    "type": "string",
                    "description": "label name available in the IFC for identifying the element"
                },
                "modelName": {
                    "type": "string",
                    "description": "Model name"
                },
                "mac": {
                    "type": "string",
                    "description": "device mac address"
                },
                "vendor": {
                    "type": "string",
                    "description": "vendor name"
                },
                "deviceType": {
                    "type": "string",
                    "enum": [
                        "led",
                        "sensor"
                    ],
                    "default": "led",
                    "description": "device category LED|Sensor|etc."
                },
                "URL": {
                    "type": "string",
                    "description": "weblink to the technical description"
                }
            }
        },
        "GroupRule":{
            "type": "object",
            "properties": {
                "brightness": {
                    "type": "integer",
                    "description": "Brigthness in Lux"
                },
                "presence": {
                    "type": "integer",
                    "description": "Presence in Second"
                }
            }
        },
        "GroupSetup":{
            "type": "object",
            "required": [
                "group"
            ],
            "properties": {
                "group": {
                    "type": "integer",
                    "description": "Associate group"
                },
                "auto": {
                    "type": "boolean",
                    "description": "Automatic mode"
                },
                "watchdog": {
                    "type": "integer",
                    "description": "watchdog in second"
                },
                "slopeStart": {
                    "type": "integer",
                    "description": "slopeStart in second"
                },
                "slopeStop": {
                    "type": "integer",
                    "description": "slopeStop in second"
                },
                "sensorRule": {
                    "type": "string",
                    "enum": [
                        "average",
                        "min",
                        "max"
                    ],
                    "default": "average",
                    "description": "Rule when multiple sensors are presents in the same group"
                },
                "correctionInterval": {
                    "type": "integer",
                    "description": "correctionInterval in second"
                },
                "leds": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "Array of LED mac addresses"
                },
                "sensors": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "Array of Sensor mac addresses"
                },
                "groupRules": {
                    "$ref": "#/definitions/GroupRule"
                },
                "friendlyName": {
                    "type": "string",
                    "description": "Sensor FriendlyName"
                }
            }
        },
        "GroupConfig":{
            "type": "object",
            "required": [
                "group"
            ],
            "properties": {
                "group": {
                    "type": "integer",
                    "description": "Associate group"
                },
                "auto": {
                    "type": "boolean",
                    "description": "Automatic mode"
                },
                "watchdog": {
                    "type": "integer",
                    "description": "watchdog in second"
                },
                "slopeStart": {
                    "type": "integer",
                    "description": "slopeStart in second"
                },
                "slopeStop": {
                    "type": "integer",
                    "description": "slopeStop in second"
                },
                "sensorRule": {
                    "type": "string",
                    "enum": [
                        "average",
                        "min",
                        "max"
                    ],
                    "default": "average",
                    "description": "Rule when multiple sensors are presents in the same group"
                },
                "correctionInterval": {
                    "type": "integer",
                    "description": "correctionInterval in second"
                },
                "leds": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "Array of LED mac addresses"
                },
                "sensors": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "Array of Sensor mac addresses"
                },
                "groupRules": {
                    "$ref": "#/definitions/GroupRule"
                },
                "friendlyName": {
                    "type": "string",
                    "description": "Sensor FriendlyName"
                }
            }
        },
        "GroupCommand":{
            "type": "object",
            "required": [
                "group"
            ],
            "properties": {
                "group": {
                    "type": "integer",
                    "description": "Associate group"
                },
                "auto": {
                    "type": "boolean",
                    "description": "Automatic mode"
                },
                "ledSetPoint": {
                    "type": "integer",
                    "description": "Led SetPoint value"
                }
            }
        },
        "Event": {
            "type": "object",
            "required": [
                "eventType",
                "status"
            ],
            "properties": {
                "eventType": {
                    "type": "string",
                    "description": "event category add|update|remove"
                },
                "status": {
                    "$ref": "#/definitions/Status"
                }
            }
        },
        "SensorStatus": {
            "type": "object",
            "required": [
                "mac"
            ],
            "properties": {
                "mac": {
                    "type": "string",
                    "description": "Sensor mac address"
                },
                "ip": {
                    "type": "string",
                    "description": "Sensor IP address"
                },
                "group": {
                    "type": "integer",
                    "description": "Associate group"
                },
                "protocol": {
                    "type": "string",
                    "description": "Sensor communication protocol"
                },
                "topic": {
                    "type": "string",
                    "description": "Sensor communication topic"
                },
                "switchMac": {
                    "type": "string",
                    "description": "Associate switch mac address"
                },
                "isConfigured": {
                    "type": "boolean",
                    "description": "Is the sensor configured"
                },
                "softwareVersion": {
                    "type": "number",
                    "format": "float32",
                    "description": "Sensor Software version"
                },
                "hardwareVersion": {
                    "type": "string",
                    "description": "Sensor Hardware version"
                },
                "isBleEnabled": {
                    "type": "boolean",
                    "description": "Is the bluetooth activate"
                },
                "temperature": {
                    "type": "integer",
                    "description": "Temperature"
                },
                "error": {
                    "type": "integer",
                    "description": "Error code value: 0 means no error"
                },
                "resetNumbers": {
                    "type": "integer",
                    "description": "Number of reset"
                },
                "initialSetupDate": {
                    "type": "number",
                    "format": "float64",
                    "description": "First installation date"
                },
                "lastResetDate": {
                    "type": "number",
                    "format": "float64",
                    "description": "Last reset date"
                },
                "brightness": {
                    "type": "integer",
                    "description": "Corrected Brightness in Lux"
                },
                "presence": {
                    "type": "boolean",
                    "description": "Presence"
                },
                "brigthnessCorrectionFactor": {
                    "type": "integer",
                    "description": "Brightness correction factor"
                },
                "thresoldPresence": {
                    "type": "integer",
                    "description": "Thresold presence"
                },
                "temperatureOffset": {
                    "type": "integer",
                    "description": "Temperature offset correcion"
                },
                "brigthnessRaw": {
                    "type": "integer",
                    "description": "Brigthness Raw value in Lux"
                },
                "lastMovement": {
                    "type": "integer",
                    "description": "Last Movement date"
                },
                "voltageInput": {
                    "type": "integer",
                    "description": "Input voltage"
                },
                "temperatureRaw": {
                    "type": "integer",
                    "description": "Temperature Raw value"
                },
                "friendlyName": {
                    "type": "string",
                    "description": "Sensor FriendlyName"
                }
            }
        },
        "Status": {
            "type": "object",
            "properties": {
                "leds": {
                    "type": "array",
                    "items":{
                        "$ref": "#/definitions/LedStatus"
                    },
                    "description": "List of leds status"
                },
                "sensors": {
                    "type": "array",
                    "items":{
                        "$ref": "#/definitions/SensorStatus"
                    },
                    "description": "List of sensors status"
                }
            }
        },
        "Dump": {
            "type": "object",
            "properties": {
                "leds": {
                    "type": "array",
                    "items":{
                        "$ref": "#/definitions/LedDump"
                    },
                    "description": "List of leds dump"
                },
                "sensors": {
                    "type": "array",
                    "items":{
                        "$ref": "#/definitions/SensorDump"
                    },
                    "description": "List of sensors dump"
                }
            }
        },
        "LedDump": {
            "type": "object",
            "properties": {
                "status": {
                    "$ref": "#/definitions/LedStatus"
                },
                "ifc": {
                    "$ref": "#/definitions/IfcInfo"
                },
                "config": {
                    "$ref": "#/definitions/LedSetup"
                }

            }
        },
        "SensorDump": {
            "type": "object",
            "properties": {
                "status": {
                    "$ref": "#/definitions/SensorStatus"
                },
                "ifc": {
                    "$ref": "#/definitions/IfcInfo"
                },
                "config": {
                    "$ref": "#/definitions/SensorSetup"
                }

            }
        },
        "LedStatus": {
            "type": "object",
            "required": [
                "mac"
            ],
            "properties": {
                "mac": {
                    "type": "string",
                    "description": "LED mac address"
                },
                "ip": {
                    "type": "string",
                    "description": "Led IP address"
                },
                "group": {
                    "type": "integer",
                    "description": "Associate group"
                },
                "protocol": {
                    "type": "string",
                    "description": "Sensor communication protocol"
                },
                "topic": {
                    "type": "string",
                    "description": "Sensor communication topic"
                },
                "switchMac": {
                    "type": "string",
                    "description": "Associate switch mac address"
                },
                "isConfigured": {
                    "type": "boolean",
                    "description": "Is the sensor configured"
                },
                "softwareVersion": {
                    "type": "number",
                    "format": "float32",
                    "description": "Sensor Software version"
                },
                "hardwareVersion": {
                    "type": "string",
                    "description": "Sensor Hardware version"
                },
                "isBleEnabled": {
                    "type": "boolean",
                    "description": "Is the bluetooth activate"
                },
                "temperature": {
                    "type": "integer",
                    "description": "On board temperature"
                },
                "error": {
                    "type": "integer",
                    "description": "Error code value: 0 means no error"
                },
                "resetNumbers": {
                    "type": "integer",
                    "description": "Number of reset"
                },
                "initialSetupDate": {
                    "type": "number",
                    "format": "float64",
                    "description": "First installation date"
                },
                "lastResetDate": {
                    "type": "number",
                    "format": "float64",
                    "description": "Last reset date"
                },
                "friendlyName": {
                    "type": "string",
                    "description": "Sensor FriendlyName"
                },
                "iMax": {
                    "type": "integer",
                    "description": "iMax"
                },
                "duration": {
                    "type": "number",
                    "format": "float64",
                    "description": "brightness duration"
                },
                "setpoint": {
                    "type": "integer",
                    "description": "Setpoint value in percentage"
                },
                "thresoldLow": {
                    "type": "integer",
                    "description": "Thresold low"
                },
                "thresoldHigh": {
                    "type": "integer",
                    "description": "Thresold high"
                },
                "daisyChainEnabled": {
                    "type": "boolean",
                    "description": "Daisy chained enabled"
                },
                "daisyChainPos": {
                    "type": "integer",
                    "description": "Daisy chained position"
                },
                "devicePower": {
                    "type": "integer",
                    "description": "Device power"
                },
                "energy": {
                    "type": "number",
                    "format": "float64",
                    "description": "Energy"
                },
                "voltageLed": {
                    "type": "integer",
                    "description": "Voltage LED"
                },
                "voltageInput": {
                    "type": "integer",
                    "description": "Voltage input"
                },
                "linePower": {
                    "type": "integer",
                    "description": "input line power"
                },
                "timeToAuto": {
                    "type": "integer",
                    "description": "remaining time to automatic mode in second"
                },
                "watchdog": {
                    "type": "integer",
                    "description": "watchdog in second"
                },
                "auto": {
                    "type": "boolean",
                    "description": "Automatic mode"
                }
            }
        },
        "Error": {
            "required": [
              "code",
              "message"
            ],
            "properties": {
              "code": {
                "type": "integer",
                "format": "int32"
              },
              "message": {
                "type": "string"
              }
            }
        }
    }
}